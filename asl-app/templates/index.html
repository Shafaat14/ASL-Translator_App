<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASL Sign Language Translator</title>
    <!-- Bootstrap CSS (Replit dark theme) -->
    <link rel="stylesheet" href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container mt-4">
        <div class="row">
            <div class="col-12">
                <div class="card bg-dark text-light shadow">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h1 class="mb-0">
                            <i class="fas fa-sign-language me-2"></i>
                            ASL Sign Language Translator
                        </h1>
                        <div>
                            <button id="start-btn" class="btn btn-success">
                                <i class="fas fa-play me-1"></i> Start
                            </button>
                            <button id="stop-btn" class="btn btn-danger" disabled>
                                <i class="fas fa-stop me-1"></i> Stop
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <!-- Video feed column -->
                            <div class="col-md-8">
                                <div class="video-container mb-3">
                                    <div class="position-relative">
                                        <video id="webcam" class="w-100 rounded" autoplay playsinline></video>
                                        <canvas id="overlay" class="position-absolute top-0 start-0 w-100 h-100"></canvas>
                                        <div id="loading-indicator" class="position-absolute top-50 start-50 translate-middle d-none">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="alert alert-info" id="webcam-status">
                                    <i class="fas fa-info-circle me-2"></i>
                                    Click "Start" to enable webcam and begin sign language detection.
                                </div>
                            </div>
                            
                            <!-- Results column -->
                            <div class="col-md-4">
                                <div class="card bg-dark-subtle mb-3">
                                    <div class="card-header bg-info-subtle text-white">
                                        <h5 class="mb-0">
                                            <i class="fas fa-language me-2"></i>
                                            Detected Signs
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="detection-result" class="detection-result">
                                            <div class="text-center text-muted" id="no-detection">
                                                <i class="fas fa-hand-paper fa-3x mb-2"></i>
                                                <p>No signs detected yet</p>
                                            </div>
                                            <div id="current-detection" class="d-none">
                                                <h2 class="text-center mb-2" id="detected-sign">A</h2>
                                                <p class="text-center" id="sign-description">Letter A</p>
                                                <div class="progress mb-2">
                                                    <div id="confidence-bar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card bg-dark-subtle">
                                    <div class="card-header bg-info-subtle text-white">
                                        <h5 class="mb-0">
                                            <i class="fas fa-history me-2"></i>
                                            Recognized Text
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="recognized-text" class="mb-2 recognized-text">
                                            <p class="text-muted">Recognized signs will appear here</p>
                                        </div>
                                        <div class="d-flex justify-content-end">
                                            <button id="clear-text-btn" class="btn btn-sm btn-secondary">
                                                <i class="fas fa-eraser me-1"></i> Clear
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Progress Dashboard -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card bg-dark text-light shadow">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">
                            <i class="fas fa-chart-line me-2"></i>
                            Your Progress
                        </h4>
                        <button id="refresh-progress-btn" class="btn btn-sm btn-outline-info">
                            <i class="fas fa-sync-alt me-1"></i> Refresh
                        </button>
                    </div>
                    <div class="card-body">
                        <div id="progress-container">
                            <div id="no-progress" class="text-center py-4">
                                <i class="fas fa-chart-bar fa-3x mb-3 text-muted"></i>
                                <p class="text-muted">Start practicing to see your progress!</p>
                            </div>
                            <div id="progress-data" class="d-none">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="card bg-dark-subtle mb-3">
                                            <div class="card-body text-center">
                                                <h3 id="total-gestures-practiced">0</h3>
                                                <p class="text-muted">Total Gestures Practiced</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card bg-dark-subtle mb-3">
                                            <div class="card-body text-center">
                                                <h3 id="avg-proficiency">0%</h3>
                                                <p class="text-muted">Average Proficiency</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card bg-dark-subtle mb-3">
                                            <div class="card-body text-center">
                                                <h3 id="mastered-gestures">0</h3>
                                                <p class="text-muted">Gestures Mastered</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <h5 class="mt-3">Gesture Proficiency:</h5>
                                <div id="gesture-proficiency-list" class="row"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- User guide -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card bg-dark text-light shadow">
                    <div class="card-header">
                        <h4 class="mb-0">
                            <i class="fas fa-book me-2"></i>
                            User Guide
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>How to Use:</h5>
                                <ol>
                                    <li>Click the "Start" button to enable your webcam</li>
                                    <li>Position your hand in front of the camera</li>
                                    <li>Make ASL sign gestures with your hand</li>
                                    <li>The app will detect and translate your signs</li>
                                    <li>Recognized letters will appear in the text area</li>
                                </ol>
                            </div>
                            <div class="col-md-6">
                                <h5>Tips for Better Recognition:</h5>
                                <ul>
                                    <li>Use good lighting conditions</li>
                                    <li>Keep your hand clearly visible in the frame</li>
                                    <li>Make gestures clearly and hold them steady</li>
                                    <li>Position yourself about 2 feet from the camera</li>
                                    <li>Avoid busy or cluttered backgrounds</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <h5>Supported Signs:</h5>
                            <div class="row" id="supported-signs">
                                <p class="text-muted">Loading supported signs...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="mt-4 mb-5 text-center text-muted">
            <p>ASL Sign Language Translator | Made with <i class="fas fa-heart"></i> for accessibility</p>
        </footer>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Main JavaScript -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
